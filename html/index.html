<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Ultimate Formatter</title>
    <style>
        :root {
            --primary: #0a66c2;
            --primary-hover: #004182;
            --bg: #f8f9fa;
            --surface: #ffffff;
            --text-main: #191919;
            --text-sub: #666666;
            --border: #e0e0e0;
            --accent: #eef3f8;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .app-container {
            background: var(--surface);
            width: 100%;
            max-width: 750px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            border: 1px solid var(--border);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* HEADER */
        .header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--border);
            background: #fff;
        }

        .header h1 {
            margin: 0;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header p {
            margin: 6px 0 0;
            font-size: 0.9rem;
            color: var(--text-sub);
        }

        /* TOOLBARS */
        .toolbar-group {
            padding: 12px 24px;
            background: #fff;
            border-bottom: 1px solid var(--border);
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            align-items: center;
        }

        .label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #999;
            font-weight: 600;
            margin-right: 8px;
        }

        button {
            background: #fff;
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 8px 14px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.2s;
            color: #444;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        button:hover {
            background: var(--accent);
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-1px);
        }

        button:active {
            transform: translateY(0);
        }

        /* Special button styles */
        .btn-magic {
            background: linear-gradient(135deg, #fff 0%, #f0f7ff 100%);
            border-color: #cce4ff;
            color: var(--primary);
            font-weight: 600;
        }

        /* Styles for button previews */
        .preview-bold { font-weight: bold; }
        .preview-italic { font-style: italic; }
        .preview-under { text-decoration: underline; }
        .preview-script { font-family: "Brush Script MT", cursive; }

        /* EDITOR */
        .editor-wrapper {
            position: relative;
            background: #fafafa;
        }

        textarea {
            width: 100%;
            height: 320px;
            border: none;
            padding: 32px;
            font-size: 1.05rem;
            line-height: 1.6;
            outline: none;
            background: transparent;
            font-family: inherit;
            color: #333;
            box-sizing: border-box; /* Ensures padding doesn't affect width */

            /* SCROLL & WRAP UPDATES */
            resize: none;           /* Prevents manual resizing */
            white-space: pre-wrap;  /* Wraps text to next line */
            word-wrap: break-word;  /* Breaks long words if necessary */
            overflow-y: auto;       /* Vertical Scrollbar */
            overflow-x: hidden;     /* Hides horizontal scrollbar */
        }

        /* FOOTER */
        .footer {
            padding: 16px 32px;
            background: #fff;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stats {
            font-size: 0.85rem;
            color: var(--text-sub);
            display: flex;
            gap: 15px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 28px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 1rem;
            box-shadow: 0 4px 12px rgba(10, 102, 194, 0.2);
            cursor: pointer;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
            color: white;
            box-shadow: 0 6px 16px rgba(10, 102, 194, 0.3);
        }

        /* TOAST NOTIFICATION */
        .toast {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translate(-50%, 20px);
            background: #333;
            color: white;
            padding: 12px 24px;
            border-radius: 50px;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .toast.visible {
            opacity: 1;
            transform: translate(-50%, 0);
        }

        /* HELPER FOR MOBILE */
        @media (max-width: 600px) {
            .app-container { border-radius: 0; height: 100vh; max-width: 100%; border: none; }
            .toolbar-group { padding: 10px; gap: 5px; justify-content: center; }
            textarea { padding: 20px; font-size: 1rem; }
            .header h1 { font-size: 1.2rem; }
            .label { display: none; }
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h1>LinkedIn Formatter <span>âœ¨</span></h1>
        <p>Convert GenAI text into formatted, engaging LinkedIn posts.</p>
    </div>

    <div class="toolbar-group">
        <span class="label">Styles</span>
        <button onclick="applyMapping('boldSans')" title="Bold"><span class="preview-bold">B</span></button>
        <button onclick="applyMapping('italicSans')" title="Italic"><span class="preview-italic">I</span></button>
        <button onclick="applyUnderline()" title="Underline (Unicode)"><span class="preview-under">U</span></button>
        <button onclick="applyMapping('script')" title="Cursive/Script"><span class="preview-script">Script</span></button>
        <div style="width:1px; height:20px; background:#ddd; margin:0 5px;"></div>
        <button onclick="clearFormat()" title="Clear Styles">Clear</button>
    </div>

    <div class="toolbar-group" style="background: #fcfcfc;">
        <span class="label">Magic</span>
        <button class="btn-magic" onclick="autoEmojify()" title="Add emojis to keywords">
            âœ¨ Auto-Emojify
        </button>
        <button onclick="insertChar('â€¢ ')" title="Bullet">â€¢</button>
        <button onclick="insertChar('âœ… ')" title="Check">âœ…</button>
        <button onclick="insertChar('ðŸ”¥ ')" title="Fire">ðŸ”¥</button>
        <button onclick="insertChar('ðŸš€ ')" title="Rocket">ðŸš€</button>
        <button onclick="insertChar('ðŸ‘‰ ')" title="Pointer">ðŸ‘‰</button>
        <button onclick="convertShortcodes()" title="Convert :code: to emoji">ðŸ”„ :code:</button>
    </div>

    <div class="editor-wrapper">
        <textarea id="editor" placeholder="Paste your text here...
        
1. Select text and click 'B' or 'I' for styles.
2. Click 'Auto-Emojify' to instantly add relevance.
3. Use :smile: shortcodes if you prefer."></textarea>
    </div>

    <div class="footer">
        <div class="stats">
            <span id="charCount">0 chars</span>
            <span id="wordCount">0 words</span>
        </div>
        <button class="btn-primary" onclick="copyText()">Copy for LinkedIn</button>
    </div>
</div>

<div id="toast" class="toast">Post copied to clipboard!</div>

<script>
    const editor = document.getElementById('editor');
    const charCount = document.getElementById('charCount');
    const wordCount = document.getElementById('wordCount');

    // --- 1. UNICODE MAPS FOR STYLING ---
    const maps = {
        boldSans: {
            a: 'ð—®', b: 'ð—¯', c: 'ð—°', d: 'ð—±', e: 'ð—²', f: 'ð—³', g: 'ð—´', h: 'ð—µ', i: 'ð—¶', j: 'ð—·', k: 'ð—¸', l: 'ð—¹', m: 'ð—º', n: 'ð—»', o: 'ð—¼', p: 'ð—½', q: 'ð—¾', r: 'ð—¿', s: 'ð˜€', t: 'ð˜', u: 'ð˜‚', v: 'ð˜ƒ', w: 'ð˜„', x: 'ð˜…', y: 'ð˜º', z: 'ð˜‡',
            A: 'ð—”', B: 'ð—•', C: 'ð—–', D: 'ð——', E: 'ð—˜', F: 'ð—™', G: 'ð—š', H: 'ð—›', I: 'ð—œ', J: 'ð—', K: 'ð—ž', L: 'ð—Ÿ', M: 'ð— ', N: 'ð—¡', O: 'ð—¢', P: 'ð—£', Q: 'ð—¤', R: 'ð—¥', S: 'ð—¦', T: 'ð—§', U: 'ð—¨', V: 'ð—©', W: 'ð—ª', X: 'ð—«', Y: 'ð—¬', Z: 'ð—­',
            0: 'ðŸ¬', 1: 'ðŸ­', 2: 'ðŸ®', 3: 'ðŸ¯', 4: 'ðŸ°', 5: 'ðŸ±', 6: 'ðŸ²', 7: 'ðŸ³', 8: 'ðŸ´', 9: 'ðŸµ'
        },
        italicSans: {
            a: 'ð˜¢', b: 'ð˜£', c: 'ð˜¤', d: 'ð˜¥', e: 'ð˜¦', f: 'ð˜§', g: 'ð˜¨', h: 'ð˜©', i: 'ð˜ª', j: 'ð˜«', k: 'ð˜¬', l: 'ð˜­', m: 'ð˜®', n: 'ð˜¯', o: 'ð˜°', p: 'ð˜±', q: 'ð˜²', r: 'ð˜³', s: 'ð˜´', t: 'ð˜µ', u: 'ð˜¶', v: 'ð˜·', w: 'ð˜¸', x: 'ð˜¹', y: 'ð˜º', z: 'ð˜»',
            A: 'ð˜ˆ', B: 'ð˜‰', C: 'ð˜Š', D: 'ð˜‹', E: 'ð˜Œ', F: 'ð˜', G: 'ð˜Ž', H: 'ð˜', I: 'ð˜', J: 'ð˜‘', K: 'ð˜’', L: 'ð˜“', M: 'ð˜”', N: 'ð˜•', O: 'ð˜–', P: 'ð˜—', Q: 'ð˜˜', R: 'ð˜™', S: 'ð˜š', T: 'ð˜›', U: 'ð˜œ', V: 'ð˜', W: 'ð˜ž', X: 'ð˜Ÿ', Y: 'ð˜ ', Z: 'ð˜¡'
        },
        script: {
            a: 'ð’¶', b: 'ð’·', c: 'ð’¸', d: 'ð’¹', e: 'ð‘’', f: 'ð’»', g: 'ð‘”', h: 'ð’½', i: 'ð’¾', j: 'ð’¿', k: 'ð“€', l: 'ð“', m: 'ð“‚', n: 'ð“ƒ', o: 'ð‘œ', p: 'ð“…', q: 'ð“†', r: 'ð“‡', s: 'ð“ˆ', t: 'ð“‰', u: 'ð“Š', v: 'ð“‹', w: 'ð“Œ', x: 'ð“', y: 'ð“Ž', z: 'ð“',
            A: 'ð’œ', B: 'ðµ', C: 'ð’ž', D: 'ð’Ÿ', E: 'ð¸', F: 'ð¹', G: 'ð’¢', H: 'ð»', I: 'ð¼', J: 'ð’¥', K: 'ð’¦', L: 'ð“', M: 'ð‘€', N: 'ð’©', O: 'ð’ª', P: 'ð’«', Q: 'ð’¬', R: 'ð‘…', S: 'ð’®', T: 'ð’¯', U: 'ð’°', V: 'ð’±', W: 'ð’²', X: 'ð’³', Y: 'ð’´', Z: 'ð’µ'
        }
    };

    const buzzwordEmojiMap = {
        "growth": "ðŸ“ˆ", "sales": "ðŸ’°", "money": "ðŸ’µ", "profit": "ðŸ’¸", "team": "ðŸ¤", "developer": "ðŸ‘¨â€ðŸ’»", "engineer": "ðŸ› ï¸", "cloud": "â˜ï¸",
        "hiring": "ðŸ“¢", "jobs": "ðŸ’¼", "work": "ðŸ› ï¸", "code": "ðŸ’»", "tech": "ðŸ¤–",  
        "ai": "ðŸ§ ", "data": "ðŸ“Š", "idea": "ðŸ’¡", "goal": "ðŸŽ¯", "success": "ðŸ†",
        "win": "ðŸ…", "learn": "ðŸ“š", "time": "â³", "deadline": "â°", "launch": "ðŸš€",
        "fire": "ðŸ”¥", "hot": "ðŸ”¥", "happy": "ðŸ˜Š", "sad": "ðŸ˜”", "question": "â“",
        "email": "ðŸ“§", "call": "ðŸ“ž", "contact": "ðŸ“¬", "link": "ðŸ”—", "website": "ðŸŒ",
        "linkedin": "ðŸŸ¦", "important": "âš ï¸", "alert": "ðŸš¨", "check": "âœ…", "done": "âœ…"
    };

    const shortcodeMap = {
        ":rocket:": "ðŸš€", ":fire:": "ðŸ”¥", ":check:": "âœ…", ":smile:": "ðŸ˜Š", 
        ":chart:": "ðŸ“ˆ", ":target:": "ðŸŽ¯", ":brain:": "ðŸ§ ", ":100:": "ðŸ’¯"
    };

    function getSelection() {
        const start = editor.selectionStart;
        const end = editor.selectionEnd;
        return { start, end, text: editor.value.substring(start, end) };
    }

    // Apply Bold, Italic, Script
    function applyMapping(type) {
        const sel = getSelection();
        if (!sel.text) return;

        const map = maps[type];
        let res = '';
        for (let char of sel.text) res += map[char] || char;
        replaceSelection(res);
    }

    // Apply Underline (Using Combining Low Line \u0332)
    function applyUnderline() {
        const sel = getSelection();
        if (!sel.text) return;

        // Logic: Add \u0332 after every character
        let res = '';
        for (let char of sel.text) res += char + '\u0332';
        replaceSelection(res);
    }

    // --- 3. MAGIC EMOJI LOGIC ---

    // Option A: Auto-Emojify (Scans words and appends emojis)
    function autoEmojify() {
        const text = editor.value;
        // Regex to find words, simple implementation
        const newText = text.replace(/\b(\w+)\b/g, (match) => {
            const lower = match.toLowerCase();
            if (buzzwordEmojiMap[lower]) return `${match} ${buzzwordEmojiMap[lower]}`;
            return match;
        });
        editor.value = newText;
        updateStats();
        showToast("Magic emojis applied! âœ¨");
    }

    function convertShortcodes() {
        let text = editor.value;
        for (let code in shortcodeMap) {
            text = text.split(code).join(shortcodeMap[code]);
        }
        editor.value = text;
        updateStats();
    }

    // --- UTILS ---

    function insertChar(char) {
        const start = editor.selectionStart;
        const end = editor.selectionEnd;
        editor.value = editor.value.substring(0, start) + char + editor.value.substring(end);
        editor.selectionStart = editor.selectionEnd = start + char.length;
        editor.focus();
        updateStats();
    }

    function replaceSelection(newText) {
        const start = editor.selectionStart;
        editor.value = editor.value.substring(0, start) + newText + editor.value.substring(editor.selectionEnd);
        editor.selectionStart = editor.selectionEnd = start + newText.length;
        editor.focus();
        updateStats();
    }

    function clearFormat() {
        // Simple normalizer to remove non-ASCII (strips styling)
        const sel = getSelection();
        if (!sel.text) return;

        // Normalize string to NFD form and remove combining diacritics (fixes underline)
        let clean = sel.text.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        
        // Remove Math Bold/Italic by converting to ASCII range (rough approximation)
        // For a perfect clear, we would reverse map, but this clears "Underline" perfectly.
        // For this demo, let's just re-write the text as is if normalization fails, 
        // or mapping to plain text manually if needed.
        // Since we are replacing, let's just remove the combining chars for Underline mostly.
        
        replaceSelection(clean);
    }

    function copyText() {
        if(!editor.value) return;
        navigator.clipboard.writeText(editor.value).then(() => {
            showToast("Copied to clipboard! ðŸ“‹");
        });
    }

    function showToast(msg) {
        const toast = document.getElementById('toast');
        toast.textContent = msg;
        toast.classList.add('visible');
        setTimeout(() => toast.classList.remove('visible'), 2500);
    }

    function updateStats() {
        charCount.innerText = editor.value.length + " chars";
        wordCount.innerText = editor.value.trim().split(/\s+/).filter(n => n).length + " words";
    }

    editor.addEventListener('input', updateStats);
</script>

</body>
</html>
